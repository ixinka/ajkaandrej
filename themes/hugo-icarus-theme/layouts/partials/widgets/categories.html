{{ if .Site.Params.widgets.categories }}
{{ if isset .Site.Taxonomies "categories" }}
{{ if not (eq (len .Site.Taxonomies.categories) 0) }}
<div class="widget-wrap">
    <h3 class="widget-title">{{ i18n "widgets.categories" }}</h3>
    <div class="widget">
        <ul class="category-list">
            {{ range $name, $items := .Site.Taxonomies.categories }}
            <li class="category-list-item">
                <a class="category-list-link" href="{{ ( printf "categories/%s" $name | urlize | lower ) | absLangURL }}">
                    {{ i18n (printf "category_%s" $name) }}
                </a>
                <span class="category-list-count">{{ len $items }}</span>
            </li>
            {{ end }}
        </ul>
    </div>
</div>
{{ end }}
{{ end }}
{{ end }}